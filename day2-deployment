  71  git clone https://github.com/gopal1409/sapient-k8s-manifest-nov.git
   72  cd sapient-k8s-manifest-nov/
   73  ls
   74  kubectl apply -f deployment.yml
   75  kubectl get deployment
       78  kubectl get rs
   76  kubectl get pod
     ####kindly change the pod id
   77  kubectl delte pod myapp-b77fbcb86-pgjx
   80  kubectl get pod
git pull
74  kubectl apply -f deployment.yml
####
root@k8smaster:~/sapient-k8s-manifest-nov# kubectl get deploy
##this will show your deployment
NAME    READY   UP-TO-DATE   AVAILABLE   AGE
myapp   2/2     2            2           33m
####you can see the hash value of replicaset which is generated by kubernetes
root@k8smaster:~/sapient-k8s-manifest-nov# kubectl get rs
NAME              DESIRED   CURRENT   READY   AGE
myapp-b77fbcb86   0         0         0       33m
myapp-cd8865fc6   2         2         2       6m45s
##pod is an combination of deployment+rs hasvalue which is common + unique pod id
root@k8smaster:~/sapient-k8s-manifest-nov# kubectl get pod
NAME                    READY   STATUS    RESTARTS   AGE
myapp-cd8865fc6-2ttkz   1/1     Running   0          6m49s
myapp-cd8865fc6-hk99w   1/1     Running   0          6m47s
root@k8smaster:~/sapient-k8s-manifest-nov#
####update the image using imperative way
####kubectl set image deploy myapp nameoftheimage=updateimage
kubectl set image deploy myapp gopal=nginx:1.16.1
###the third way we can update directly
kubectl edit deploy myapp
####findout container image Press Esc i
###after changing save the file using Press Esc :wq
###to check the rollout history
 101  kubectl rollout history deployment myapp
  102  kubectl rollout history deployment myapp --revision=1
  103  kubectl rollout history deployment myapp --revision=2
###kubernetes rollback
 111  kubectl set image deploy myapp gopal=nginx:1.161
  112  kubectl rollout status deployment myapp
##this will stuck up you need to press CTRL c to terminate the session
  113  kubectl get rs
  114  kubectl rollout history deployment myapp
  115  kubectl rollout undo deployment myapp
  116  kubectl get deploy
  117  kubectl rollout status deployment myapp
  118  kubectl get rs
  119  kubectl rollout undo deployment myapp --to-revision=1

